suite:
  name: demo-blog
  system: docker-compose.yml
  task_service: tests

tests:
- name: db-outage
  spec:
  - {wait: home-page-running, timeout: 30}
  - destroy: [db]
  - {wait: db-stopped, timeout: 30}
  - {wait: home-page-running, timeout: 30}

tasks:
- {name: db-stopped, command: "/tasks/db-stopped.sh"}
- {name: home-page-running, command: "/tasks/home-page-running.sh"}
